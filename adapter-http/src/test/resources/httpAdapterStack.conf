########### Modules to start ###########
modules = [
  "dataSourceHttp=io.knotx.databridge.http.HttpDataSourceAdapter"
]

########### Globals ###########
global {
  # Data Bridge globals
  bridge {
    dataSource.http.address = knotx.bridge.datasource.http
  }
}

########### Modules configurations ###########
config.dataSourceHttp {
  options.config {
    address = ${global.bridge.dataSource.http.address}

    clientOptions {
      maxPoolSize = 1000
      keepAlive = false
    }

    customRequestHeader {
      name = Server-User-Agent
      value = Knot.x
    }

    services = [
      {
        path = "/service/mock/.*"
        domain = localhost
        port = 3000
        allowedRequestHeaders = [
          "Accept*",
          "Content*",
          "X*"
        ]
      }
    ]
  }
}
