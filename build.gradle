/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn how to create Gradle builds at https://guides.gradle.org/creating-new-gradle-builds/
 */

buildscript {
  apply from: "$rootProject.projectDir/gradle/buildscript.gradle", to: buildscript
}

defaultTasks = ['build']

allprojects {
  group = 'io.knotx.databridge'

  apply plugin: "eclipse"
  apply plugin: "idea"

  repositories {
    mavenLocal()
    maven { url "https://repo1.maven.org/maven2" }
    jcenter()
  }
}

subprojects { subproject ->

  plugins.withId 'java', {
    sourceCompatibility = 1.8
    targetCompatibility = 1.8

    def compileOptions = {
      options.encoding = "UTF-8"
      options.compilerArgs << '-Xlint:deprecation'
      options.incremental = true
    }

    compileJava compileOptions
    compileTestJava compileOptions
  }
}
